library(aprof)

#### INITIAL STATE ####
source("./scripts/initialisation.R")
source("./scripts/00 Initial code.R")
dump("generatePatchySpecies", file = "./scripts/00.R")
source("./scripts/00.R")
Rprof(file = "./profiling/00.out", interval = .02, line.profiling = TRUE)
generatePatchySpecies(nb.sim = 1, nb.sp = 10)
Rprof(append = FALSE)
summaryRprof("./profiling/00.out")
sum.aprof <- aprof("./scripts/00.R", "./profiling/00.out")
pdf("./profiling/00.pdf")
plot(sum.aprof)
dev.off()
profileplot(sum.aprof)

#### TEST 1 ####
source("./scripts/initialisation.R")
source("./scripts/functions/patch_generation_simplified.R")
source("./scripts/01 Modified patchy function.R")
dump("generatePatchySpecies2", file = "./scripts/01.R")
source("./scripts/01.R")
Rprof(file = "./profiling/01.out", interval = .02, line.profiling = TRUE)
generatePatchySpecies2(nb.sim = 1, nb.sp = 10)
Rprof(append = FALSE)
summaryRprof("./profiling/01ModifiedPatchyFunction.out")
sum.aprof <- aprof("./scripts/01.R", "./profiling/01.out")
pdf("./profiling/01.pdf")
plot(sum.aprof)
dev.off()
profileplot(sum.aprof)


#### TEST 2 ####
source("./scripts/initialisation.R")
source("./scripts/02 Modified generation method.R")
dump("generatePatchySpecies", file = "./scripts/02.R")
source("./scripts/02.R")
Rprof(file = "./profiling/02.out", interval = .02, line.profiling = TRUE)
generatePatchySpecies(nb.sim = 1, nb.sp = 10)
Rprof(append = FALSE)
summaryRprof("./profiling/02.out")
sum.aprof <- aprof("./scripts/02.R", "./profiling/02.out")
pdf("./profiling/02.pdf")
plot(sum.aprof)
dev.off()
profileplot(sum.aprof)
